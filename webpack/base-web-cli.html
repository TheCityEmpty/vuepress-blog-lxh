<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>脚手架工具——base-web-cli脚手架 | 江湖录</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="你可以用原生的js和html来构建程序，提供了热更新功能，支持es6语法，让你顺畅使用import，class，promise等语法，极大的提高了传统开发开发效率。">
    
    <link rel="preload" href="/vuepress-blog-lxh/assets/css/0.styles.253d253c.css" as="style"><link rel="preload" href="/vuepress-blog-lxh/assets/js/app.8d32188a.js" as="script"><link rel="preload" href="/vuepress-blog-lxh/assets/js/2.ae6c3983.js" as="script"><link rel="preload" href="/vuepress-blog-lxh/assets/js/35.ca59a7c5.js" as="script"><link rel="preload" href="/vuepress-blog-lxh/assets/js/6.b516d596.js" as="script"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/10.362c3091.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/11.d9f79592.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/12.8d36d4e0.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/13.7663dd42.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/14.616766c6.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/15.a80cddf5.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/16.8d635d16.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/17.0e2f7697.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/18.ad92e712.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/19.9a616bcd.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/20.f70dd27d.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/21.ead17315.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/22.4adc24b8.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/23.741273c3.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/24.960c4de1.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/25.71255207.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/26.99bdf89d.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/27.a7cfdd9f.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/28.73ce90d6.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/29.86001c69.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/3.0d3a7d18.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/30.f7879cbd.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/31.378c1464.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/32.7569ba20.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/33.d86bcecd.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/34.f8189bcb.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/4.1c645c93.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/5.d5f27362.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/7.26863545.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/8.35a881dd.js"><link rel="prefetch" href="/vuepress-blog-lxh/assets/js/9.fd4b449d.js">
    <link rel="stylesheet" href="/vuepress-blog-lxh/assets/css/0.styles.253d253c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-blog-lxh/" class="home-link router-link-active"><img src="/vuepress-blog-lxh/logo.svg" alt="江湖录" class="logo"> <span class="site-name can-hide">江湖录</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-blog-lxh/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/vuepress-blog-lxh/other-pages/category.html" class="nav-link">
  文章分类
</a></div> <a href="https://github.com/TheCityEmpty/vuepress-blog-lxh/tree/code" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-blog-lxh/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/vuepress-blog-lxh/other-pages/category.html" class="nav-link">
  文章分类
</a></div> <a href="https://github.com/TheCityEmpty/vuepress-blog-lxh/tree/code" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>脚手架工具——base-web-cli脚手架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-blog-lxh/webpack/base-web-cli.html#安装" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog-lxh/webpack/base-web-cli.html#js-babel" class="sidebar-link">js - babel</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog-lxh/webpack/base-web-cli.html#模块化" class="sidebar-link">模块化</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog-lxh/webpack/base-web-cli.html#js内" class="sidebar-link" style="padding-left:3rem;">js内</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog-lxh/webpack/base-web-cli.html#html内" class="sidebar-link" style="padding-left:3rem;">html内</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog-lxh/webpack/base-web-cli.html#css内" class="sidebar-link" style="padding-left:3rem;">css内</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog-lxh/webpack/base-web-cli.html#webpack-多页面" class="sidebar-link">webpack 多页面</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog-lxh/webpack/base-web-cli.html#webpack-全局变量-环境变量" class="sidebar-link">webpack 全局变量 环境变量</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="脚手架工具-base-web-cli脚手架"><a href="#脚手架工具-base-web-cli脚手架" class="header-anchor">#</a> 脚手架工具——base-web-cli脚手架</h1> <p><code>base-web-cli</code> 使用原生js进行开发，为了方便起见， 内置了 <code>jQuery</code>，开发起来更加方便。支持js文件和css文件 的热更新。html 暂时需要主动刷新页面来进行更新。脚手架还内置了 <code>less</code> ，可直接使用。</p> <p><a href="https://github.com/TheCityEmpty/base-web-cli" target="_blank" rel="noopener noreferrer">base-web-cli脚手架github地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> -g base-web-cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后执行命令</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>base-web-cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输入你的项目名称， 它将会创建该目录并将脚手架代码复制进去。</p> <p>然后再去安装项目依赖和运行项目</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>现在你可以去愉快的开发了。</p> <h3 id="js-babel"><a href="#js-babel" class="header-anchor">#</a> js - babel</h3> <p>项目内置了 <code>babel</code> ，并将 <code>presets</code> 设置为 <code>@babel/preset-env</code>。支持绝大部分js 新语法。除了<code>js</code>文件外， 处于 <code>html</code> 中的
<code>script</code> 标签内的js也支持js新语法。但不建议这样做， 最好是一个 <code>html</code> 文件对应一个 <code>js</code> 文件。</p> <h3 id="模块化"><a href="#模块化" class="header-anchor">#</a> 模块化</h3> <h4 id="js内"><a href="#js内" class="header-anchor">#</a> js内</h4> <p>在 <code>js</code> 文件内支持常规的 <code>import</code> 和 <code>require</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'../style.css'</span> <span class="token comment">// 支持引入css, less 等</span>
<span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span> <span class="token comment">// 也可以引入依赖</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getDate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./utils.js'</span> <span class="token comment">// 还可以引入 其他js 文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="html内"><a href="#html内" class="header-anchor">#</a> html内</h4> <p>在 <code>script</code> 标签中不支持<code>import</code> 和 <code>require</code> 引入。 但是提供模板语法。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%= header %&gt; // 引入 header.html 公共组件
&lt;%= js!cli %&gt; // 引入 cli.js 文件， 会自动用 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 标签包裹
&lt;%= css!style %&gt; // 引入 style.css 文件 （css同理）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>header</code> 和 <code>cli</code> 和 <code>style</code> 分别需定义在 <code>config.js</code> 文件中 <code>requireFileUrl</code> 字段配置 url。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  requireFileUrl<span class="token operator">:</span> <span class="token punctuation">{</span>
    header<span class="token operator">:</span> <span class="token string">'./web/header.html'</span><span class="token punctuation">,</span>
    cli<span class="token operator">:</span> <span class="token string">'./web/js/cli.js'</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token string">'./web/css/style.css'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="css内"><a href="#css内" class="header-anchor">#</a> css内</h4> <p>针对 <code>less</code>, 提供全局CSS变量， 定义在<code>config.js</code> 文件中的。这样在其他 <code>less</code> 文件中也可以直接使用该变量。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  GlobalCSSVar<span class="token operator">:</span> <span class="token function">setGlobalCSSVar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'@mainColor'</span><span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
    <span class="token string">'@mainFontSize'</span><span class="token operator">:</span> <span class="token string">'30px'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>并且提供 <code>include</code> 和 <code>exclude</code> 两个参数。</p> <p>(include, exclude 支持正则表达式和纯字符串, 两个参数不可同时出现否则不起作用)</p> <p>include 包含哪些文件需要全局参数， 注意： 一旦启用这个参数，则不会在所有的less文件中注入全局变量，只是以此参数选择注入</p> <p>exclude 哪些文件不需要包含全局参数， 在include参数没定义时才起作用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
 GlobalCSSVar<span class="token operator">:</span> <span class="token function">setGlobalCSSVar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token string">'@mainColor'</span><span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
   <span class="token string">'@mainFontSize'</span><span class="token operator">:</span> <span class="token string">'30px'</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 GlobalCSSVarOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
   include<span class="token operator">:</span> <span class="token string">'cli.less'</span>
   <span class="token comment">// exclude: /cli\.less/</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="webpack-多页面"><a href="#webpack-多页面" class="header-anchor">#</a> webpack 多页面</h3> <p>项目采用 <code>webpack</code> 构建， 使用多页面功能。 一个html文件对应一个js文件。 如：</p> <p><code>index.html</code> =&gt; <code>index.js</code></p> <p>js 文件应该放在 js文件夹目录下。否则识别不到路径。</p> <p>每新增一个页面， 需要在 <code>config.js</code> 文件中的新增一个页面。项目启动后 默认打开数组第一个页面。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// 分别对应着 index.html , cli.html, res.html三个页面</span>
   pages<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'index'</span><span class="token punctuation">,</span>
    <span class="token string">'cli'</span><span class="token punctuation">,</span>
    <span class="token string">'res'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="webpack-全局变量-环境变量"><a href="#webpack-全局变量-环境变量" class="header-anchor">#</a> webpack 全局变量 环境变量</h3> <p>在 <code>config.js</code> 文件中有 <code>env</code> 环境变量， 分别为'dev'(开发环境) 和 'prd'(生产环境), 默认为dev。</p> <p>并且有 <code>APP__GLOBAL__VAR_DEV</code> 和 <code>APP__GLOBAL__VAR_PRD</code> 两个全局变量对应着不同的环境。在整个项目不同地方可访问。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  env<span class="token operator">:</span> <span class="token string">'dev'</span><span class="token punctuation">,</span>
  <span class="token constant">APP__GLOBAL__VAR_DEV</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    apiUrl<span class="token operator">:</span> <span class="token string">'http://dev.openapi**'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token constant">APP__GLOBAL__VAR_PRD</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    apiUrl<span class="token operator">:</span> <span class="token string">'http://prd.openapi**'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">10/14/2022, 4:05:31 PM</span></div></footer> <!----> </main></div><div class="global-ui"><div class="footer-box" style="padding-left:20rem;" data-v-497fb04d><div class="footer-left" data-v-497fb04d><h2 class="footer-title" data-v-497fb04d><span class="logo-icon" data-v-497fb04d><img src="/vuepress-blog-lxh/assets/img/logo.664df77c.svg" data-v-497fb04d></span>
      江湖录 | <span class="small-tip" data-v-497fb04d>孤独的人的江湖路</span></h2> <p data-v-497fb04d>本站点所有图片图标资源尽皆都是百度来的， 如有侵权，立删！</p> <p data-v-497fb04d>联系email: lxhaweb@163.com</p></div> <div class="footer-right" data-v-497fb04d></div></div><!----></div></div>
    <script src="/vuepress-blog-lxh/assets/js/app.8d32188a.js" defer></script><script src="/vuepress-blog-lxh/assets/js/2.ae6c3983.js" defer></script><script src="/vuepress-blog-lxh/assets/js/35.ca59a7c5.js" defer></script><script src="/vuepress-blog-lxh/assets/js/6.b516d596.js" defer></script>
  </body>
</html>
