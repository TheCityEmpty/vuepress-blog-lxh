(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{414:function(s,t,a){"use strict";a.r(t);var n=a(28),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"url对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url对象"}},[s._v("#")]),s._v(" URL对象")]),s._v(" "),a("p",[s._v("URL是Web中的一个核心概念。它是浏览器用来检索web上公布的任何资源的机制。")]),s._v(" "),a("p",[s._v("URL 的名称实际为 统一资源定位符（Uniform Resource Locator）。")]),s._v(" "),a("h2",{attrs:{id:"一个url应该由什么组成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个url应该由什么组成"}},[s._v("#")]),s._v(" 一个URL应该由什么组成")]),s._v(" "),a("img",{staticStyle:{width:"100%x",height:"300px"},attrs:{src:s.$withBase("/1599273679(1).png"),"data-water":"",alt:"URL组成结构图"}}),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("href")]),s._v(" 一个完整的URL地址")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("origin")]),s._v("  由协议（protocol），域名（hostname），端口（post） 组成的源， 他是一个只读属性")]),s._v(" "),a("ul",[a("li",[s._v("对于 "),a("code",[s._v("http")]),s._v(" 和 "),a("code",[s._v("https")]),s._v(" 协议的URL，返回值就是 "),a("code",[s._v("http://www.baidu.com:222")])]),s._v(" "),a("li",[s._v("对于 "),a("code",[s._v("file:")]),s._v(" 协议的 URL， 返回值应浏览器而异")]),s._v(" "),a("li",[s._v("对于 "),a("code",[s._v("blob:")]),s._v(" 协议的 URL， 返回值是 blob: 后跟随的源地址. 例如 "),a("code",[s._v('"blob:https://www.baidu.com:222"')]),s._v(" 将会返回 "),a("code",[s._v('"https://www.baidu.com:222"')])])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("protocol")]),s._v(" 协议， 常见的协议有 "),a("code",[s._v("http")]),s._v(" "),a("code",[s._v("https")]),s._v(" "),a("code",[s._v("ftp")]),s._v(", 协议表示我们可以通过不同的规则访问一个URl，前提是服务器支持该协议")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("hostname")]),s._v(" 域名，或者说是主机名。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("port")]),s._v(" 端口号， 一般 "),a("code",[s._v("http")]),s._v(" 的端口为 80 ，而 "),a("code",[s._v("https")]),s._v(" 的端口为 443")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("pathname")]),s._v(" 路径")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("search")]),s._v(" 路由参数  以 "),a("code",[s._v("?")]),s._v(" 开头")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("hash")]),s._v(" 哈希值  以 "),a("code",[s._v("#")]),s._v(" 开头")])]),s._v(" "),a("li",[a("p",[s._v("如果存在 HTTP 身份验证，则这里可能还会有 user 和 password 属性")])])]),s._v(" "),a("h2",{attrs:{id:"如何创建url对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何创建url对象"}},[s._v("#")]),s._v(" 如何创建URL对象")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("url")]),s._v(" --- 完整的 URL，或者仅路径（如果设置了 base）")]),s._v(" "),a("li",[a("code",[s._v("base")]),s._v(" --- 可选参数，如果设置了两个参数，则会根据两参数生成一个完整的Url")])]),s._v(" "),a("p",[s._v("以下两个都是一样的值：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" u1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://www.baidu.com/aa/bb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" u2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/aa/bb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://www.baidu.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("u1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// u1 -> https://www.baidu.com/aa/bb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// u2 -> https://www.baidu.com/aa/bb")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("看看url 有哪些属性值： 发现这个内置对象 可以取出一个URL 的所有属性，可以很方便的处理URL。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" u1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://www.baidu.com/aa/bb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("u1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   hash: ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   host: "www.baidu.com"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   hostname: "www.baidu.com"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   href: "https://www.baidu.com/aa/bb"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   origin: "https://www.baidu.com"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   password: ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   pathname: "/aa/bb"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   port: ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   protocol: "https:"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   search: ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   searchParams: URLSearchParams {}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   username: ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// }")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"对于字符串的手动编码解码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对于字符串的手动编码解码"}},[s._v("#")]),s._v(" 对于字符串的手动编码解码")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("在某项标准中规定了URL只能包含某些字符，而那些不合规的字符将会被转义。一般这种情况是针对于我们所带的参数中不合规的字符。这样导致在页面接受参数的时候发现参数和原参数对不上，被转义了。")])]),s._v(" "),a("p",[s._v("下面是个a链接，带了一个 a 参数，参数中有一个空格。")]),s._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- index.html --\x3e")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("cli.html?a=VSA UIO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("跳转页面"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("发现在 "),a("code",[s._v("cli.html")]),s._v(" 中取参数的时候， 空格变成了 "),a("code",[s._v("%20")]),s._v(", 那就有问题了，当我想拿参数进行处理的时候， 会发现对不上原始参数。")]),s._v(" "),a("p",[a("strong",[s._v("转义的规则是：根据操作系统的默认编码，将每个字节转为百分号（%）加上两个大写的十六进制字母。")])]),s._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- cli.html --\x3e")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// http://localhost:8082/cli.html?a=VSA%20UIO")]),s._v("\n ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("所以我们需要将参数进行手动编码 "),a("code",[s._v("encodeURI")]),s._v(" 。在进行编码之后， 取值的时候应该要进行解码 "),a("code",[s._v("decodeURI")]),s._v("，这样就得到了正确的值。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" encodeURI "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("encodeURI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cli.html?a=VSA UIO'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("encodeURI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// cli.html?a=VSA%20UIO")]),s._v("\nencodeURI "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decodeURI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("encodeURI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("encodeURI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// cli.html?a=VSA UIO")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("除此之外， 还有 "),a("code",[s._v("encodeURIComponent")]),s._v(" 和 "),a("code",[s._v("decodeURIComponent")]),s._v(" 编码方式。")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("encodeURI")]),s._v(" 编码整个 URL")]),s._v(" "),a("li",[a("code",[s._v("decodeURI")]),s._v(" 解码为编码前的状态")]),s._v(" "),a("li",[a("code",[s._v("encodeURIComponent")]),s._v(" 编码 URL 组件，例如搜索参数，或者 hash，或者 pathname")]),s._v(" "),a("li",[a("code",[s._v("decodeURIComponent")]),s._v(" 解码为编码前的状态")])]),s._v(" "),a("p",[s._v("那两个编码方法有什么区别呢？")]),s._v(" "),a("p",[s._v("下面有一个全面的URL地址：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("baidu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("page"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("p2"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v2#hash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("可以发现在URL中 "),a("code",[s._v(":")]),s._v(" "),a("code",[s._v(".")]),s._v(" "),a("code",[s._v("/")]),s._v(" "),a("code",[s._v("?")]),s._v(" "),a("code",[s._v("=")]),s._v(" "),a("code",[s._v("&")]),s._v(" "),a("code",[s._v("#")]),s._v(" 这类字符是被允许的。")]),s._v(" "),a("p",[s._v("合法字符分为两类：")]),s._v(" "),a("p",[a("strong",[s._v("URL元字符：")]),s._v(" 分号"),a("code",[s._v(";")]),s._v(" 逗号"),a("code",[s._v(",")]),s._v(" 斜杆"),a("code",[s._v("/")]),s._v(" 问好"),a("code",[s._v("?")]),s._v(" 冒号"),a("code",[s._v(":")]),s._v(" at符"),a("code",[s._v("@")]),s._v(" and符"),a("code",[s._v("&")]),s._v(" 等于号"),a("code",[s._v("=")]),s._v(" 加号"),a("code",[s._v("+")]),s._v(" 美元符"),a("code",[s._v("$")])]),s._v(" "),a("p",[a("strong",[s._v("语义字符：")]),s._v(" 井号"),a("code",[s._v("#")]),s._v(" 连接符号"),a("code",[s._v("-")]),s._v(" 下划线"),a("code",[s._v("_")]),s._v(" 点"),a("code",[s._v(".")]),s._v(" 感叹号"),a("code",[s._v("!")]),s._v(" 波浪号"),a("code",[s._v("~")]),s._v(" 星号"),a("code",[s._v("*")]),s._v(" 单引号"),a("code",[s._v("'")]),s._v(" 圆括号"),a("code",[s._v("()")]),s._v(" 最后还有 大小写字母"),a("code",[s._v("a-z A-Z")]),s._v(" 和 阿拉伯数字 "),a("code",[s._v("0-9")])]),s._v(" "),a("p",[s._v("为啥要分两类呢？"),a("code",[s._v("encodeURI")]),s._v(" 方法只会转编码合法字符之外的其他字符， "),a("code",[s._v("encodeURIComponent")]),s._v(" 则会编码URL元字符之外的字符。")]),s._v(" "),a("p",[s._v("如果你想传一个参数 "),a("code",[s._v("12&123")]),s._v(" 怎么办， 它会把 "),a("code",[s._v("&")]),s._v(" 当成参数分隔符。 和你的本意不同，这样， 我们就是使用 "),a("code",[s._v("encodeURIComponent")]),s._v(" 进行参数编码。")]),s._v(" "),a("p",[s._v("下面的代码我们将 "),a("code",[s._v("p1")]),s._v(" 参数取出， 并使用 "),a("code",[s._v("decodeURIComponent")]),s._v(" 方法解码， 就得到了原来的值。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" params "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("encodeURIComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'12&123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("https://www.baidu.com:8080/path/page?p1=")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("params"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("&a=1")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// https://www.baidu.com:8080/path/page?p1=12%26123&a=1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" arr "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("([^&?])+(=)([^&])+")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[s._v("g")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//  ["p1=12%26123", "a=1"]')]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// ["p1", "12%26123"]')]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" p1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 12%26123")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decodeURIComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 12&123")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h2",{attrs:{id:"使用url对象进行自动编码解码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用url对象进行自动编码解码"}},[s._v("#")]),s._v(" 使用URL对象进行自动编码解码")]),s._v(" "),a("p",[s._v("上面我们使用 "),a("code",[s._v("encodeURIComponent")]),s._v(" 和 "),a("code",[s._v("decodeURIComponent")]),s._v(" 进行手动编码， 下面我们用 "),a("code",[s._v("URL")]),s._v(" 对象进行自动编码。")]),s._v(" "),a("p",[a("code",[s._v("URL")]),s._v(" 对象下面有个属性为 "),a("code",[s._v("searchParams")]),s._v("，使用它可以进行对参数的各种处理。")]),s._v(" "),a("p",[s._v("（提示： "),a("code",[s._v("searchParams")]),s._v(" 其实是 "),a("code",[s._v("URLSearchParams")]),s._v("(window 下面的内置对象， 和URL对象一样) 的实例，两者的用法也是一样的。）")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[a("code",[s._v("append")]),s._v(" 方法：")]),s._v(" "),a("code",[s._v("new URL(url).searchParams.append('p1', '12&123')")]),s._v("  往 url 里添加 属性名为 p1, 属性值为 12&123 的参数，对于 属性值 "),a("strong",[s._v("该方法会自动进行编码")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[a("code",[s._v("get")]),s._v(" 方法：")]),s._v(" "),a("code",[s._v("new URL(url).searchParams.get('p1')")]),s._v("  从 url 里取出 属性名为 p1 的参数值， "),a("strong",[s._v("该方法会自动进行解码")])])]),s._v(" "),a("li",[a("p",[a("strong",[a("code",[s._v("delete")]),s._v(" 方法：")]),s._v(" "),a("code",[s._v("new URL(url).searchParams.delete('a')")]),s._v("  从 url 里删除 属性名为 p1 的参数")])]),s._v(" "),a("li",[a("p",[a("strong",[a("code",[s._v("has")]),s._v(" 方法：")]),s._v(" "),a("code",[s._v("new URL(url).searchParams.has('p1')")]),s._v("  url 中是否有 p1 参数， 返回 "),a("code",[s._v("true")]),s._v(" 或 "),a("code",[s._v("false")])])]),s._v(" "),a("li",[a("p",[a("strong",[a("code",[s._v("set")]),s._v(" 方法：")]),s._v("  有两种功能，，分别是 添加新参数 和 替换旧参数")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("new URL(url).searchParams.set('p2', '00000')")]),s._v(" 往 url 里添加 属性名为 p2，属性值为 00000 的参数")]),s._v(" "),a("li",[a("code",[s._v("new URL(url).searchParams.set('p1', '11111')")]),s._v(" 从 url 将属性名为 p1的属性值替换为 00000")])])]),s._v(" "),a("li",[a("p",[a("strong",[a("code",[s._v("getAll")]),s._v(" 方法：")]),s._v(" "),a("code",[s._v("new URL(url).searchParams.getAll('p1')")])])])]),s._v(" "),a("p",[a("code",[s._v("append")]),s._v(" 方法允许插入相同属性名甚至相同属性值参数， 但是使用 "),a("code",[s._v("get")]),s._v(" 方法的时候只能取第一个 "),a("code",[s._v("p1")]),s._v(" 的值。这个时候我们就需要 "),a("code",[s._v("getAll")]),s._v(" 方法， 它会取出所有的 "),a("code",[s._v("p1")]),s._v(" 的值。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("https://www.baidu.com:8080/path/page")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" urlObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nurlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'12&123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nurlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'12&123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("urlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ?p1=12%26123&p1=12%26123  一样的属性名 和 一样的属性值 是可行的")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("https://www.baidu.com:8080/path/page")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" urlObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nurlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'12&123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nurlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'000000'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("urlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ?p1=12%26123&p1=000000")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("urlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 12&123   只会取第一个值")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("urlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//  ["12&123", "000000"]  返回一个数组')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("ul",[a("li",[a("strong",[a("code",[s._v("keys")]),s._v(" 方法：")]),s._v(" "),a("code",[s._v("new URL(url).searchParams.keys()")]),s._v("   生成一个包含参数属性名的迭代器")]),s._v(" "),a("li",[a("strong",[a("code",[s._v("values")]),s._v(" 方法：")]),s._v(" "),a("code",[s._v("new URL(url).searchParams.values()")]),s._v("   生成一个包含参数属性值的迭代器")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("https://www.baidu.com:8080/path/page")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" urlObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nurlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'213'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nurlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'421'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" urlObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("keys")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// p1")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// p2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[a("strong",[a("code",[s._v("new URL(url).searchParams")]),s._v(" 本身就是一个迭代器，拥有 "),a("code",[s._v("forEach")]),s._v(" 方法， 和数组的 "),a("code",[s._v("forEach")]),s._v(" 方法一样的使用")])])]),s._v(" "),a("h2",{attrs:{id:"url的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url的方法"}},[s._v("#")]),s._v(" URL的方法")]),s._v(" "),a("p",[s._v("这两个静态方法是相辅相成的， 一个是在内存中创建 URL 对象， 一个是 在内存中释放 URL 对象。")]),s._v(" "),a("h3",{attrs:{id:"createobjecturl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#createobjecturl"}},[s._v("#")]),s._v(" "),a("code",[s._v("createObjectURL")])]),s._v(" "),a("p",[s._v("使用方法 "),a("code",[s._v("window.URL.createObjectURL(object)")]),s._v(", 用于创建 URL 的 File 对象、Blob 对象或者 MediaSource 对象。")]),s._v(" "),a("h3",{attrs:{id:"revokeobjecturl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#revokeobjecturl"}},[s._v("#")]),s._v(" "),a("code",[s._v("revokeObjectURL")])]),s._v(" "),a("p",[s._v("使用方法 "),a("code",[s._v("window.URL.revokeObjectURL(objectURL)")]),s._v(", 用来释放一个之前已经存在的、通过调用 "),a("code",[s._v("URL.createObjectURL()")]),s._v(" 创建的 URL 对象。")]),s._v(" "),a("h2",{attrs:{id:"最后-看看兼容性吧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最后-看看兼容性吧"}},[s._v("#")]),s._v(" 最后，看看兼容性吧")]),s._v(" "),a("p",[s._v("除了 "),a("code",[s._v("IE")]),s._v(" 不支持， 其他的浏览器基本都支持， 可以放心在 移动端使用了。\n"),a("use-list",[a("use-option",{attrs:{versions:["6-10|false","11|false"]}},[s._v("IE")]),s._v(" "),a("use-option",{attrs:{versions:["12-83|true","84|true"]}},[s._v("Edge")]),s._v(" "),a("use-option",{attrs:{versions:["2-25|false","26-79|true","80|true","81-82|true"]}},[s._v("Firefox")]),s._v(" "),a("use-option",{attrs:{versions:["4-22|false","23-31|false","32-84|true","85|true","86-88|true"]}},[s._v("Chrome")]),s._v(" "),a("use-option",{attrs:{versions:["3.1-6.1|false","7|false","7.1-13|true","13.1|true","14-TP|true"]}},[s._v("Safari")]),s._v(" "),a("use-option",{attrs:{versions:["10-12.1|false","15-18|false","19 - 69|true","70|true"]}},[s._v("Opera")])],1)],1)])}),[],!1,null,null,null);t.default=e.exports}}]);