(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{411:function(s,t,a){"use strict";a.r(t);var n=a(28),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"学习electron"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习electron"}},[s._v("#")]),s._v(" 学习electron")]),s._v(" "),a("h2",{attrs:{id:"运行第一个桌面端程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行第一个桌面端程序"}},[s._v("#")]),s._v(" 运行第一个桌面端程序")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/electron/electron-quick-start\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" electron-quick-start\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 国内无法连接上， 使用淘宝镜像（使用前请先安装淘宝镜像）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" ELECTRON_MIRROR https://npm.taobao.org/mirrors/electron/\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"相比于传统的web页面-electron-该如何来调试呢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相比于传统的web页面-electron-该如何来调试呢"}},[s._v("#")]),s._v(" 相比于传统的web页面，electron 该如何来调试呢")]),s._v(" "),a("p",[s._v("在此以前， 我们需要了解 "),a("strong",[s._v("一个electron程序由有且只有一个主进程和若干多个渲染进程组成")]),s._v("。")]),s._v(" "),a("p",[s._v("主进程由 "),a("code",[s._v("main.js")]),s._v(" 中的代码组成，渲染进程由 "),a("code",[s._v("html")]),s._v(" 后缀的代码组成，比如上面的示例代码中的 "),a("code",[s._v("index.html")]),s._v("。")]),s._v(" "),a("h3",{attrs:{id:"渲染进程的调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#渲染进程的调试"}},[s._v("#")]),s._v(" 渲染进程的调试")]),s._v(" "),a("p",[s._v("当你成功启动electron程序时，会弹出一个页面。页面上有若干的导航栏， 点击 "),a("code",[s._v("View")]),s._v("，再点击 "),a("code",[s._v("Toggle Developer Tools")]),s._v("。这时就会弹出和谷歌浏览器一样的 "),a("code",[s._v("console")]),s._v(" 调试器。当然你也可以使用快捷键 "),a("code",[s._v("Ctrl + Shift + i")]),s._v(" 来打开调试器。")]),s._v(" "),a("h3",{attrs:{id:"主进程的调试-使用浏览器进行调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主进程的调试-使用浏览器进行调试"}},[s._v("#")]),s._v(" 主进程的调试（使用浏览器进行调试）")]),s._v(" "),a("p",[s._v("这时我们需要修改 "),a("code",[s._v("package.json")]),s._v("，设置 5858 端口。然后再重新运行程序。")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    -- "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron ."')]),s._v("\n    ++ "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron --inspect=5858 ."')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("接着我们需要打开谷歌浏览器，输入网址 "),a("code",[s._v("chrome://inspect/")]),s._v("。")]),s._v(" "),a("p",[s._v("在打开的界面中我们可以看到两个按钮 "),a("code",[s._v("Port forwarding...")]),s._v(" 和 "),a("code",[s._v("Configure...")]),s._v("。")]),s._v(" "),a("p",[s._v("点击 "),a("code",[s._v("Configure...")]),s._v(" 会出现一个输入 ip 和 port 的弹窗。")]),s._v(" "),a("p",[s._v("我们输入 "),a("code",[s._v("localhost:5858")]),s._v("。 点击 "),a("code",[s._v("done")]),s._v("。")]),s._v(" "),a("p",[s._v("重新运行程序。")]),s._v(" "),a("p",[s._v("最后界面如下：\n"),a("img",{staticStyle:{width:"100%x",height:"300px"},attrs:{src:s.$withBase("/electron-1.png"),"data-water":"",alt:"chrome://inspect/图"}})]),s._v(" "),a("p",[s._v("出现了 "),a("code",[s._v("Remote Target")]),s._v(" 即为成功。点击 "),a("code",[s._v("inspect")]),s._v(" ，就会出现 "),a("code",[s._v("debbug")]),s._v(" 窗口。")]),s._v(" "),a("p",[s._v("然后点击 "),a("code",[s._v("Sources")]),s._v(" 源代码标签页。就会出现 "),a("code",[s._v("main.js")]),s._v(" 中的代码。这时候你就可以开始在 "),a("code",[s._v("main.js")]),s._v(" 断点代码了。")]),s._v(" "),a("p",[a("strong",[s._v("如果点击"),a("code",[s._v("Sources")]),s._v(" 源代码标签页并未出现"),a("code",[s._v("main.js")]),s._v(" 中的代码，那就点击三个点， 点击 "),a("code",[s._v("Open file")]),s._v("去搜索文件，输入 "),a("code",[s._v("main.js")]),s._v("即可搜索到。")])]),s._v(" "),a("img",{staticStyle:{width:"100%x",height:"300px"},attrs:{src:s.$withBase("/electron-2.png"),"data-water":"",alt:"调试界面图"}}),s._v(" "),a("h3",{attrs:{id:"主进程的调试-使用vs-code工具进行调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主进程的调试-使用vs-code工具进行调试"}},[s._v("#")]),s._v(" 主进程的调试（使用vs code工具进行调试）")]),s._v(" "),a("p",[s._v("点击 "),a("code",[s._v("vs code")]),s._v(" 右边导航栏中的运行标签， 也可以使用快捷键 "),a("code",[s._v("Ctrl + Shift + D")]),s._v("。这时就会出现调试界面， 点击绿色箭头就可以开始调试，这时你就可以去 "),a("code",[s._v("main.js")]),s._v(" 中设置断点了。")]),s._v(" "),a("img",{staticStyle:{width:"100%x",height:"300px"},attrs:{src:s.$withBase("/electron-3.png"),"data-water":"",alt:"vscode图"}}),s._v(" "),a("h2",{attrs:{id:"看下文档-了解下相应的api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#看下文档-了解下相应的api"}},[s._v("#")]),s._v(" 看下文档，了解下相应的api")]),s._v(" "),a("p",[s._v("看完文档，很多都忘记了。但是却记住了下面几条重要的东西：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("Node.js")]),s._v(" 中所有内置模块和第三方模块 在 Electron 中都支持。")]),s._v(" "),a("li",[s._v("注意：要从渲染过程中访问Node.js API，您需要设置 nodeIntegration 选项为 true。")])]),s._v(" "),a("p",[s._v("Node.js API 包含了 "),a("code",[s._v("require")]),s._v(" 模块， "),a("code",[s._v("process")]),s._v(" 信息， "),a("code",[s._v("fs")]),s._v(" 模块，"),a("code",[s._v("path")]),s._v(" 模块等。所以我可以理解， 这个一定要设置。")]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[s._v("Electron API是根据流程类型分配的。这意味这某些模块或API只能在主进程或渲染进程使用，有些可以在两者中使用。Electron 的 API 文档指明了每个模块可以使用的过程。所以有时候你发现API没用，那看下文档吧。")])]),s._v(" "),a("li",[a("p",[s._v("在 Electron 中，通信是十分重要的。比如主进程和渲染进程通信，不同的渲染进程之间的通信。而通信有两种方式进行通信。分别是 "),a("code",[s._v("ipcMain")]),s._v(" 和 "),a("code",[s._v("ipcRenderer")]),s._v(" 通信模块。下面有个渲染进程和主进程通信的示例：")])])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 主进程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ipcMain "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'electron'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nipcMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("handle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tel'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("evidence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在渲染进程中")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ipcRenderer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'electron'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nipcRenderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("invotrake")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tel'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("可以发现和 "),a("code",[s._v("events")]),s._v(" 通信有点相似。任意命名一个相同的字符串， 通过 "),a("code",[s._v("ipcMain")]),s._v(" 创建监听器， "),a("code",[s._v("ipcRenderer")]),s._v(" 触发监听器。")]),s._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[s._v("主进程和渲染进程的区别，只有主进程可以和 "),a("code",[s._v("GUI")]),s._v(" 或底层系统打交道， 而渲染进程除了额外能够使用 Node.js 能力之外，与普通网页没区别。")])]),s._v(" "),a("p",[s._v("看了下文档，太多了，简单说一下大概功能：")]),s._v(" "),a("p",[a("strong",[s._v("主进程模块")])]),s._v(" "),a("ul",[a("li",[s._v("app -> 控制应用程序的事件生命周期，相当于整个程序的实例。")]),s._v(" "),a("li",[s._v("autoUpdater -> 控制程序的自动更新")]),s._v(" "),a("li",[s._v("BrowserView -> 创建新页面的")]),s._v(" "),a("li",[s._v("BrowserWindow -> 创建和控制浏览器窗口")]),s._v(" "),a("li",[s._v("contentTracing -> 内容跟踪，以发现性能瓶颈和缓慢的操作")]),s._v(" "),a("li",[s._v("dialog -> 显示用于打开和保存文件、警报等的本机系统对话框")]),s._v(" "),a("li",[s._v("globalShortcut -> 创建全局快捷键方式")]),s._v(" "),a("li",[s._v("inAppPurchase -> Mac App Store中的应用内购买相关")]),s._v(" "),a("li",[s._v("ipcMain -> 通信模块，从主进程到渲染进程的异步通信")]),s._v(" "),a("li",[s._v("Menu -> 顶部菜单相关")]),s._v(" "),a("li",[s._v("MenuItem -> 顶部菜单项相关")]),s._v(" "),a("li",[s._v("net -> 使用Chromium的原生网络库发出HTTP / HTTPS请求")]),s._v(" "),a("li",[s._v("netLog -> 网络事件日志的记录")]),s._v(" "),a("li",[s._v("nativeTheme -> 读取并响应Chromium本地色彩主题中的变化")]),s._v(" "),a("li",[s._v("Notification -> 创建OS(操作系统)桌面通知，比如有新的版本要更新了，有人发消息给你了等等...")]),s._v(" "),a("li",[s._v("powerMonitor -> 监视电源状态的改变")]),s._v(" "),a("li",[s._v("powerSaveBlocker -> 阻止系统进入低功耗 (休眠) 模式")]),s._v(" "),a("li",[s._v("protocol -> 注册自定义协议并拦截基于现有协议的请求")]),s._v(" "),a("li",[s._v("screen -> 检索有关屏幕大小、显示器、光标位置等的信息")]),s._v(" "),a("li",[s._v("session -> 管理浏览器会话、cookie、缓存、代理设置等")]),s._v(" "),a("li",[s._v("systemPreferences -> 获取system preferences")]),s._v(" "),a("li",[s._v("TouchBar -> 为原生macOS应用创建TouchBar布局")]),s._v(" "),a("li",[s._v("Tray -> 添加图标和上下文菜单到系统通知区")]),s._v(" "),a("li",[s._v("webContents -> 渲染以及控制 web 页面")])]),s._v(" "),a("p",[a("strong",[s._v("渲染进程模块")])]),s._v(" "),a("ul",[a("li",[s._v("desktopCapturer -> 可以访问那些用于从桌面上捕获音频和视频的媒体源信息")]),s._v(" "),a("li",[s._v("ipcRenderer -> 从渲染器进程到主进程的异步通信")]),s._v(" "),a("li",[s._v("remote -> 可以让我们在在渲染进程中使用主进程模块")]),s._v(" "),a("li",[s._v("webFrame -> 自定义渲染当前网页")])]),s._v(" "),a("p",[a("strong",[s._v("两种进程都可以用模块")])]),s._v(" "),a("ul",[a("li",[s._v("clipboard -> 在系统剪贴板上执行复制和粘贴操作")]),s._v(" "),a("li",[s._v("crashReporter -> 将崩溃日志提交给远程服务器")]),s._v(" "),a("li",[s._v("nativeImage -> 使用 PNG 或 JPG 文件创建托盘、dock和应用程序图标")]),s._v(" "),a("li",[s._v("shell -> 使用默认应用程序管理文件和 url")])]),s._v(" "),a("p",[a("strong",[s._v("我们是需要大概了解下所有的api的，以便在开发的时候知道去哪查看文档！")])]),s._v(" "),a("h2",{attrs:{id:"现在我们可以开始做一个项目了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#现在我们可以开始做一个项目了"}},[s._v("#")]),s._v(" 现在我们可以开始做一个项目了")]),s._v(" "),a("p",[s._v("想了很久， 就做一个个人管理器吧， 就是类似于一个"),a("code",[s._v("windows")]),s._v(" 系统，然后很多功能集成在里面。没事，慢慢写...")]),s._v(" "),a("p",[s._v("因为写着写着你就会发现，好多报错，哈哈哈")]),s._v(" "),a("h3",{attrs:{id:"_1-好歹是做过很多项目的-得先把文件结构分好。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-好歹是做过很多项目的-得先把文件结构分好。"}},[s._v("#")]),s._v(" 1. 好歹是做过很多项目的， 得先把文件结构分好。")]),s._v(" "),a("p",[s._v("首先分出一个文件夹"),a("code",[s._v("views")]),s._v("存放web界面的，这个文件夹将专门管理渲染界面。")]),s._v(" "),a("p",[a("code",[s._v("views")]),s._v(" 下面的每一个文件夹都有三个文件，分别是 "),a("code",[s._v("html")]),s._v(", "),a("code",[s._v("css")]),s._v(", "),a("code",[s._v("renderer.js")]),s._v(" 文件，对应着一个渲染进程。")]),s._v(" "),a("p",[s._v("如下图所示：")]),s._v(" "),a("img",{staticStyle:{width:"100%x",height:"300px"},attrs:{src:s.$withBase("/electron-4.png"),"data-water":"",alt:"文件结构目录图"}}),s._v(" "),a("p",[s._v("记住： 这时你也要更改 "),a("code",[s._v("main.js")]),s._v(" 中的路径，它第一次打开界面所指路径。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main.js")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" mainWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" mainWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./views/index/index.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("然后再创建一些别的文件夹对应别的功能，比如 "),a("code",[s._v("config")]),s._v(" 全局配置，"),a("code",[s._v("utils")]),s._v(" 工具类，"),a("code",[s._v("ipc")]),s._v(" 进程通信 等对应别的功能。")]),s._v(" "),a("h3",{attrs:{id:"_2-开始写ui吧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-开始写ui吧"}},[s._v("#")]),s._v(" 2. 开始写UI吧")]),s._v(" "),a("p",[a("strong",[s._v("然后就发现了一个问题，在 "),a("code",[s._v("html")]),s._v(" 文件中 "),a("code",[s._v("style")]),s._v(" 标签和元素的 "),a("code",[s._v("style")]),s._v(" 属性一旦写了就直接报错了。")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 报错信息")]),s._v("\n\nRefused to apply inline style because it violates the following Content Security Policy directive"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"default-src 'self'\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" \nEither the "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'unsafe-inline'")]),s._v(" keyword"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" or a "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nonce")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'nonce-...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" is \nrequired to enable inline execution"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" Note also that "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-src'")]),s._v(" was not explicitly set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" so "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default-src'")]),s._v(" is used "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" a fallback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("当然你也用 "),a("code",[s._v("css")]),s._v(" 文件来避免这个报错， 不使用"),a("code",[s._v("style")]),s._v(" 标签和元素的 "),a("code",[s._v("style")]),s._v(" 属性。")]),s._v(" "),a("p",[s._v("但是也有别的解决办法：")]),s._v(" "),a("p",[s._v("修改下 "),a("code",[s._v("html")]),s._v(" 文件的 "),a("code",[s._v("meta")]),s._v(" 标签即可。")]),s._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- ./views/index/index.html --\x3e")]),s._v(" \n-- "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http-equiv")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("Content-Security-Policy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("default-src "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),s._v("; script-src "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n++ "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http-equiv")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("Content-Security-Policy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("default-src "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),s._v("unsafe-inline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),s._v("; script-src "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_3-还是先整合vue进去吧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-还是先整合vue进去吧"}},[s._v("#")]),s._v(" 3. 还是先整合vue进去吧")]),s._v(" "),a("p",[s._v("突然还是发现 "),a("code",[s._v("vue")]),s._v(" 够香，所以使用了 "),a("code",[s._v("electron-vue")]),s._v(" 搭建项目。")]),s._v(" "),a("p",[a("code",[s._v("electron-vue")]),s._v(" 文档 "),a("a",{attrs:{href:"https://simulatedgreg.gitbooks.io/electron-vue/content/cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://simulatedgreg.gitbooks.io/electron-vue/content/cn/"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 vue-cli 和 脚手架样板代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g vue-cli\nvue init simulatedgreg/electron-vue my-project\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装依赖并运行你的程序")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" my-project\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者 npm install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" run dev "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者 npm run dev")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("安装完之后就可以开始运行了， 运行时出现了一个问题：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("ReferenceError"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process is not defined\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("解决方案：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 文件目录 .electron-vue/webpack.web.config.js")]),s._v("\nplugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("VueLoaderPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MiniCssExtractPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'styles.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      template"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../src/index.ejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("templateParameters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("compilation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" assets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     compilation"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" compilation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     webpack"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" compilation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getStats")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toJson")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     webpackConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" compilation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     htmlWebpackPlugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("       files"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" assets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("       options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" options\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      minify"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        collapseWhitespace"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        removeAttributeQuotes"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        removeComments"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 文件目录 .electron-vue/webpack.renderer.config.js")]),s._v("\nplugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("VueLoaderPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MiniCssExtractPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'styles.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      template"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../src/index.ejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("templateParameters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("compilation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" assets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     compilation"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" compilation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     webpack"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" compilation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getStats")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toJson")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     webpackConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" compilation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     htmlWebpackPlugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("       files"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" assets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("       options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" options\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      minify"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        collapseWhitespace"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        removeAttributeQuotes"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        removeComments"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br")])]),a("p",[s._v("再次运行，就可以了。")])])}),[],!1,null,null,null);t.default=e.exports}}]);